using System;
using System.Collections;
using System.Collections.Generic;
using System.Collections.ObjectModel;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Controls;
using System.Windows.Input;
using System.Windows.Navigation;
using TaskManager_Practice.Infrastructure;
using TaskManager_Practice.Infrastructure.Commands;
<<<<<<< HEAD
using TaskManager_Practice.Services.Navigation;
=======
using TaskManager_Practice.Models;
>>>>>>> 00791c69337f023a70157ba77a40b2f4a2947b0c
using TaskManager_Practice.ViewModels.Base;
using TaskManager_Practice.Views.Windows;
using Task = TaskManager_Practice.Models.Task;

namespace TaskManager_Practice.ViewModels
{
    internal class MainWindowViewModel : ViewModel
    {
        #region Private Fields

        private string _Title;
        

        #endregion

        #region Properties

        public string Title
        {
            get => _Title;
            set => Set(ref _Title, value);
        }

        #endregion



<<<<<<< HEAD
=======
        public ObservableCollection<Project> Projects { get; }

        private Project _SelectedProject;

        public Project SelectedProject
        {
            get => _SelectedProject;
            set => Set(ref _SelectedProject, value);
        }

        public ObservableCollection<Project> Projects { get; }

        private Task _SelectedTask;

        public Project SelectedTask
        {
            get => _SelectedProject;
            set => Set(ref _SelectedProject, value);
        }

        private Project _SelectedProject;

        public Project SelectedProject
        {
            get => _SelectedProject;
            set => Set(ref _SelectedProject, value);
        }

        public ICommand OpenNewWindow { get; }
>>>>>>> 00791c69337f023a70157ba77a40b2f4a2947b0c

        #region Private Methods

        

        #endregion

        
        
        #region Commands

        public ICommand OpenFirstPage { get; }
        public ICommand OpenSecondPage { get; }
        public ICommand OpenNewWindow { get; }
        
        #endregion


        #region Ctor

        public MainWindowViewModel()
        {
            OpenNewWindow = new ActionCommand(OnOpenChildWindow, CanOpenChildWindow);
            OpenFirstPage = new ActionCommand(OpenFirstPage_Execute, OpenFirstPage_CanExecute);
            OpenSecondPage = new ActionCommand(OpenSecondPage_Execute, OpenSecondPage_CanExecute);
        }

        #endregion
        
        
        #region Commands handlers

        // Тут какое-то условие можешь придумать, если не надо то сноси
        private bool OpenFirstPage_CanExecute(object arg) => true;
        private void OpenFirstPage_Execute(object obj)=>  AppNavigation.Open(PageID.One);
        
        // Тут какое-то условие можешь придумать, если не надо то сноси
        private bool OpenSecondPage_CanExecute(object arg) => true;
        private void OpenSecondPage_Execute(object obj)=>  AppNavigation.Open(PageID.Two);

        
        private bool CanOpenChildWindow(object ob) => true;

        private void OnOpenChildWindow(object ob)
        {
            AddProjectWindow addProjectWindow = new AddProjectWindow();
            addProjectWindow.Show();
        }

        #endregion
<<<<<<< HEAD
        
=======

        #region Data



        #endregion

        public MainWindowViewModel()
        {
            OpenNewWindow = new ActionCommand(OnOpenChildWindow, CanOpenChildWindow);
            OpenPage = new ActionCommand(OnOpenPage, CanOpenPage);

            var project_index = 1;
            var projects = Enumerable.Range(1, 20).Select(i => new Project
            {
                Name = $"Name {project_index}"
            });

        }
>>>>>>> 00791c69337f023a70157ba77a40b2f4a2947b0c

    }
}
